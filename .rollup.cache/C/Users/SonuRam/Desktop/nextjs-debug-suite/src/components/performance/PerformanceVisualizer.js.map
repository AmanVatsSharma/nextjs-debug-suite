{"version":3,"file":"PerformanceVisualizer.js","sourceRoot":"","sources":["PerformanceVisualizer.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useMemo } from 'react';\r\nimport styled from '@emotion/styled';\r\nimport { motion } from 'framer-motion';\r\nimport type { PerformanceMetric } from '../../core/performanceMonitor';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n  padding: 1rem;\r\n  background: ${({ theme }) => theme.colors.background.secondary};\r\n  border-radius: 8px;\r\n`;\r\n\r\nconst MetricGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst MetricHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst MetricTitle = styled.h4`\r\n  margin: 0;\r\n  color: ${({ theme }) => theme.colors.text.primary};\r\n`;\r\n\r\nconst MetricValue = styled.span`\r\n  font-family: monospace;\r\n  color: ${({ theme }) => theme.colors.text.secondary};\r\n`;\r\n\r\nconst BarChart = styled(motion.div)`\r\n  width: 100%;\r\n  height: 200px;\r\n  position: relative;\r\n  margin-top: 1rem;\r\n`;\r\n\r\nconst Bar = styled(motion.div)<{ height: string; color: string }>`\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 20px;\r\n  height: ${props => props.height};\r\n  background-color: ${props => props.color};\r\n  border-radius: 4px 4px 0 0;\r\n`;\r\n\r\nconst BarLabel = styled.div`\r\n  position: absolute;\r\n  bottom: -20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  font-size: 0.75rem;\r\n  color: ${({ theme }) => theme.colors.text.secondary};\r\n  white-space: nowrap;\r\n`;\r\n\r\ninterface PerformanceVisualizerProps {\r\n  metrics: PerformanceMetric[];\r\n}\r\n\r\nexport const PerformanceVisualizer: React.FC<PerformanceVisualizerProps> = ({\r\n  metrics,\r\n}) => {\r\n  const renderMetrics = useMemo(() => {\r\n    return metrics.filter(metric => metric.type === 'render');\r\n  }, [metrics]);\r\n\r\n  const memoryMetrics = useMemo(() => {\r\n    return metrics.filter(metric => metric.type === 'memory');\r\n  }, [metrics]);\r\n\r\n  const resourceMetrics = useMemo(() => {\r\n    return metrics.filter(metric => metric.type === 'resource');\r\n  }, [metrics]);\r\n\r\n  const maxRenderTime = useMemo(() => {\r\n    return Math.max(...renderMetrics.map(metric => metric.duration || 0));\r\n  }, [renderMetrics]);\r\n\r\n  return (\r\n    <Container>\r\n      <MetricGroup>\r\n        <MetricHeader>\r\n          <MetricTitle>Component Render Times</MetricTitle>\r\n          <MetricValue>{renderMetrics.length} renders</MetricValue>\r\n        </MetricHeader>\r\n        <BarChart>\r\n          {renderMetrics.map((metric, index) => {\r\n            const height = metric.duration ? (metric.duration / maxRenderTime) * 180 : 0;\r\n            return (\r\n              <Bar\r\n                key={`${metric.name}-${metric.timestamp}`}\r\n                height={`${height}px`}\r\n                color={metric.duration && metric.duration > 16 ? '#ff5252' : '#4caf50'}\r\n                style={{ left: `${index * 30}px` }}\r\n                initial={{ height: 0 }}\r\n                animate={{ height: `${height}px` }}\r\n                transition={{ duration: 0.3 }}\r\n              >\r\n                <BarLabel>{metric.name}</BarLabel>\r\n              </Bar>\r\n            );\r\n          })}\r\n        </BarChart>\r\n      </MetricGroup>\r\n\r\n      {memoryMetrics.length > 0 && (\r\n        <MetricGroup>\r\n          <MetricHeader>\r\n            <MetricTitle>Memory Usage</MetricTitle>\r\n            <MetricValue>\r\n              {((memoryMetrics[memoryMetrics.length - 1].details?.usedJSHeapSize || 0) / 1024 / 1024).toFixed(1)} MB\r\n            </MetricValue>\r\n          </MetricHeader>\r\n        </MetricGroup>\r\n      )}\r\n\r\n      {resourceMetrics.length > 0 && (\r\n        <MetricGroup>\r\n          <MetricHeader>\r\n            <MetricTitle>Resource Timings</MetricTitle>\r\n            <MetricValue>{resourceMetrics.length} resources</MetricValue>\r\n          </MetricHeader>\r\n          {resourceMetrics.map(metric => (\r\n            <div key={`${metric.name}-${metric.timestamp}`}>\r\n              <MetricValue>\r\n                {metric.name} - {metric.duration?.toFixed(2)}ms\r\n                {metric.details?.size && ` (${(metric.details.size / 1024).toFixed(1)} KB)`}\r\n              </MetricValue>\r\n            </div>\r\n          ))}\r\n        </MetricGroup>\r\n      )}\r\n    </Container>\r\n  );\r\n}; "]}