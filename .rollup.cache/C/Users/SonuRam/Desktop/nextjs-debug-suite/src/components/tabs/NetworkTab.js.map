{"version":3,"file":"NetworkTab.js","sourceRoot":"","sources":["NetworkTab.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from '@emotion/styled';\r\nimport { Light as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport { tomorrow } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\nimport { useDebugContext } from '../DebugSuiteProvider';\r\n\r\nconst RequestCard = styled.div`\r\n  margin-bottom: 12px;\r\n  border: 1px solid ${({ theme }) => theme.colors.border};\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst RequestHeader = styled.div<{ status?: number }>`\r\n  padding: 12px;\r\n  background: ${({ theme }) => theme.colors.tabBackground};\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.border};\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  cursor: pointer;\r\n\r\n  ${({ status, theme }) => {\r\n    if (!status) return '';\r\n    if (status >= 500) return `color: ${theme.colors.error};`;\r\n    if (status >= 400) return `color: ${theme.colors.warning};`;\r\n    if (status >= 200 && status < 300) return `color: ${theme.colors.success};`;\r\n    return '';\r\n  }}\r\n`;\r\n\r\nconst Method = styled.span<{ method: string }>`\r\n  font-weight: 600;\r\n  margin-right: 8px;\r\n  ${({ method, theme }) => {\r\n    switch (method.toUpperCase()) {\r\n      case 'GET':\r\n        return `color: ${theme.colors.info};`;\r\n      case 'POST':\r\n        return `color: ${theme.colors.success};`;\r\n      case 'PUT':\r\n        return `color: ${theme.colors.warning};`;\r\n      case 'DELETE':\r\n        return `color: ${theme.colors.error};`;\r\n      default:\r\n        return '';\r\n    }\r\n  }}\r\n`;\r\n\r\nconst Status = styled.span<{ status?: number }>`\r\n  font-weight: 500;\r\n  font-size: 12px;\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  ${({ status, theme }) => {\r\n    if (!status) return '';\r\n    if (status >= 500) return `background: ${theme.colors.error}; color: white;`;\r\n    if (status >= 400) return `background: ${theme.colors.warning}; color: white;`;\r\n    if (status >= 200 && status < 300) return `background: ${theme.colors.success}; color: white;`;\r\n    return '';\r\n  }}\r\n`;\r\n\r\nconst RequestDetails = styled.div`\r\n  padding: 12px;\r\n`;\r\n\r\nconst DetailSection = styled.div`\r\n  margin-bottom: 16px;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst DetailTitle = styled.h4`\r\n  margin: 0 0 8px;\r\n  font-size: 13px;\r\n  color: ${({ theme }) => theme.colors.secondary};\r\n`;\r\n\r\ninterface NetworkRequest {\r\n  url: string;\r\n  method: string;\r\n  status?: number;\r\n  duration?: number;\r\n  requestData?: any;\r\n  responseData?: any;\r\n  timestamp: number;\r\n  error?: Error;\r\n}\r\n\r\nconst NetworkRequest: React.FC<{ request: NetworkRequest }> = ({ request }) => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n  return (\r\n    <RequestCard>\r\n      <RequestHeader\r\n        status={request.status}\r\n        onClick={() => setIsExpanded(!isExpanded)}\r\n      >\r\n        <div>\r\n          <Method method={request.method}>{request.method}</Method>\r\n          <span>{request.url}</span>\r\n        </div>\r\n        <div>\r\n          {request.status && <Status status={request.status}>{request.status}</Status>}\r\n          {request.duration && (\r\n            <span style={{ marginLeft: 8, fontSize: 12 }}>\r\n              {request.duration.toFixed(2)}ms\r\n            </span>\r\n          )}\r\n        </div>\r\n      </RequestHeader>\r\n      {isExpanded && (\r\n        <RequestDetails>\r\n          {request.requestData && (\r\n            <DetailSection>\r\n              <DetailTitle>Request Data</DetailTitle>\r\n              <SyntaxHighlighter\r\n                language=\"json\"\r\n                style={tomorrow}\r\n                customStyle={{ margin: 0 }}\r\n              >\r\n                {JSON.stringify(request.requestData, null, 2)}\r\n              </SyntaxHighlighter>\r\n            </DetailSection>\r\n          )}\r\n          {request.responseData && (\r\n            <DetailSection>\r\n              <DetailTitle>Response Data</DetailTitle>\r\n              <SyntaxHighlighter\r\n                language=\"json\"\r\n                style={tomorrow}\r\n                customStyle={{ margin: 0 }}\r\n              >\r\n                {JSON.stringify(request.responseData, null, 2)}\r\n              </SyntaxHighlighter>\r\n            </DetailSection>\r\n          )}\r\n          {request.error && (\r\n            <DetailSection>\r\n              <DetailTitle>Error</DetailTitle>\r\n              <div style={{ color: '#dc2626' }}>{request.error.message}</div>\r\n            </DetailSection>\r\n          )}\r\n        </RequestDetails>\r\n      )}\r\n    </RequestCard>\r\n  );\r\n};\r\n\r\nexport const NetworkTab: React.FC = () => {\r\n  const { network } = useDebugContext();\r\n  const [requests, setRequests] = useState<NetworkRequest[]>([]);\r\n\r\n  useEffect(() => {\r\n    // Subscribe to network events\r\n    const unsubscribe = network.debug.subscribe((log) => {\r\n      if (log.type === 'NETWORK' || log.type === 'NETWORK_ERROR') {\r\n        setRequests(prev => [log.data as NetworkRequest, ...prev]);\r\n      }\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [network]);\r\n\r\n  if (requests.length === 0) {\r\n    return (\r\n      <div style={{ padding: 20, textAlign: 'center', color: '#666' }}>\r\n        No network requests captured\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {requests.map((request, index) => (\r\n        <NetworkRequest key={index} request={request} />\r\n      ))}\r\n    </div>\r\n  );\r\n}; "]}